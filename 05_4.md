# Разрешение конфликтов объединения

Помимо сценария, описанного в предыдущем пункте, конфликты регулярно появляются при объединении ветвей или загрузки на сервер чужой работы. Иногда конфликты GIT устраняет автоматически, но в других случаях человек, имеющий дело с ними, должен решить (и обычно подбирать), какой код остается и что удаляется.

Давайте посмотрим на пример, где мы будем пытаться объединить две ветви, называющиеся john_branch и tim_branch. И Джон, и Тим записывают в одном и том же файле функцию, которая отображает все элементы в массиве.

Джон использует цикл *for*:

```text
for(var i=0; i<arr.length; i++) {
    console.log(arr[i]);
}
```

Тим же предпочёл *forEach*:

```text
arr.forEach(function(item) {
    console.log(item);
});
```

Они оба фиксируют свой код на собственных ветвях. Теперь, если они попытаются объединить эти две ветви, то увидят следующее сообщение об ошибке:

```text
$git merge tim_branch 

Auto-merging print_array.js
CONFLICT (content): Merge conflict in print_array.js
Automatic merge failed; fix conflicts and then commit the result.
```

GIT не смог объединить ветви автоматически, так что разработчикам придётся вручную разрешить конфликт. Если они откроют файл с конфликтом, они увидят, что GIT пометил проблемные строки:

```text
<<<<<<< HEAD
for(var i=0; i<arr.length; i++) {
    console.log(arr[i]);
}
=======
arr.forEach(function(item) {
    console.log(item);
});
>>>>>>> Tim's commit.
```

Выше черты из знаков «равно» мы видим текущую фиксацию *HEAD* и ниже - конфликтующую. Таким образом, мы можем четко видеть различия и решить, какая версия лучше, или же вовсе написать новую. В данной ситуации мы пойдём до последнего и перепишем все это, удаляя маркеры, чтобы GIT знал, что мы закончили.

```text
console.log(arr.toString());
```

Как только всё будет отлажено, должна появиться объединённая фиксация:

```text
$git add -A
$git commit -m "Array printing conflict resolved."
```

Как видите, процесс достаточно утомительный, а в больших проектах справиться с конфликтом может быть чрезвычайно трудно. Большинство разработчиков предпочитают разрешать конфликты с помощью графического клиента, значительно упрощающего действия. Для его запуска воспользуйтесь командой **`git mergetool`**.

[*назад*](05_3.md)  |  [*вперед*](05_5.md)

[*к содержанию*](README.md)
